{"ast":null,"code":"import { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport { DataSource } from '@angular/cdk/collections';\nimport { FormDialogComponent } from './dialog/form-dialog/form-dialog.component';\nimport { DeleteDialogComponent } from './dialog/delete/delete.component';\nimport { BehaviorSubject, fromEvent, merge } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { UnsubscribeOnDestroyAdapter } from '@shared';\nimport { TicketsService } from './tickets.service';\nimport { TableExportUtil } from '@shared';\nimport { formatDate, NgClass, DatePipe } from '@angular/common';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRippleModule } from '@angular/material/core';\nimport { FeatherIconsComponent } from '@shared/components/feather-icons/feather-icons.component';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { BreadcrumbComponent } from '@shared/components/breadcrumb/breadcrumb.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"./tickets.service\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/material/tooltip\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/material/sort\";\nimport * as i10 from \"@angular/material/checkbox\";\nimport * as i11 from \"@angular/material/core\";\nimport * as i12 from \"@angular/material/progress-spinner\";\nimport * as i13 from \"@angular/material/paginator\";\nconst _c0 = [\"filter\"];\nconst _c1 = () => [\"Home\"];\nconst _c2 = () => [5, 10, 25, 100];\nfunction TicketsComponent_mat_header_cell_88_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 66)(1, \"mat-checkbox\", 67);\n    i0.ɵɵlistener(\"change\", function TicketsComponent_mat_header_cell_88_Template_mat_checkbox_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r2.masterToggle() : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", \"tbl-col-width-per-6\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"checked\", ctx_r2.selection.hasValue() && ctx_r2.isAllSelected())(\"indeterminate\", ctx_r2.selection.hasValue() && !ctx_r2.isAllSelected())(\"ngClass\", \"tbl-checkbox\");\n  }\n}\nfunction TicketsComponent_mat_cell_89_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-cell\", 66)(1, \"mat-checkbox\", 68);\n    i0.ɵɵlistener(\"click\", function TicketsComponent_mat_cell_89_Template_mat_checkbox_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      return i0.ɵɵresetView($event.stopPropagation());\n    })(\"change\", function TicketsComponent_mat_cell_89_Template_mat_checkbox_change_1_listener($event) {\n      const row_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView($event ? ctx_r2.selection.toggle(row_r5) : null);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", \"tbl-col-width-per-6\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"checked\", ctx_r2.selection.isSelected(row_r5))(\"ngClass\", \"tbl-checkbox\");\n  }\n}\nfunction TicketsComponent_mat_header_cell_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Id\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(row_r6.id);\n  }\n}\nfunction TicketsComponent_mat_header_cell_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Ticket ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Ticket ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r7 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", row_r7.ticket_id, \" \");\n  }\n}\nfunction TicketsComponent_mat_header_cell_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Created By\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_98_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Created By:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", row_r8.createdBy, \" \");\n  }\n}\nfunction TicketsComponent_mat_header_cell_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Subject\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Subject:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r9 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r9.subject);\n  }\n}\nfunction TicketsComponent_mat_header_cell_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \" Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_104_Conditional_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 72);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r10.status, \"\");\n  }\n}\nfunction TicketsComponent_mat_cell_104_Conditional_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 73);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r10.status, \"\");\n  }\n}\nfunction TicketsComponent_mat_cell_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 71)(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TicketsComponent_mat_cell_104_Conditional_3_Template, 3, 1, \"div\")(4, TicketsComponent_mat_cell_104_Conditional_4_Template, 3, 1, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r10 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵconditional(row_r10.status === \"Open\" ? 3 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(row_r10.status === \"Closed\" ? 4 : -1);\n  }\n}\nfunction TicketsComponent_mat_header_cell_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Assign To\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_107_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Assign To:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r11 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", row_r11.assignTo, \" \");\n  }\n}\nfunction TicketsComponent_mat_header_cell_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 70);\n    i0.ɵɵtext(2, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, row_r12.date, \"MM/dd/yyyy\"), \"\");\n  }\n}\nfunction TicketsComponent_mat_header_cell_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 69);\n    i0.ɵɵtext(1, \"details\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"span\", 74)(2, \"span\", 70);\n    i0.ɵɵtext(3, \"details:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(row_r13.details);\n  }\n}\nfunction TicketsComponent_mat_header_cell_115_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 75);\n    i0.ɵɵtext(1, \"Actions\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_mat_cell_116_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-cell\", 75)(1, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function TicketsComponent_mat_cell_116_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      return i0.ɵɵresetView($event.stopPropagation());\n    })(\"click\", function TicketsComponent_mat_cell_116_Template_button_click_1_listener() {\n      const row_r15 = i0.ɵɵrestoreView(_r14).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editCall(row_r15));\n    });\n    i0.ɵɵelement(2, \"app-feather-icons\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function TicketsComponent_mat_cell_116_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      return i0.ɵɵresetView($event.stopPropagation());\n    })(\"click\", function TicketsComponent_mat_cell_116_Template_button_click_3_listener() {\n      const ctx_r15 = i0.ɵɵrestoreView(_r14);\n      const row_r15 = ctx_r15.$implicit;\n      const i_r17 = ctx_r15.index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteItem(i_r17, row_r15));\n    });\n    i0.ɵɵelement(4, \"app-feather-icons\", 77);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"tbl-fav-edit\");\n    i0.ɵɵproperty(\"icon\", \"edit\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"tbl-fav-delete\");\n    i0.ɵɵproperty(\"icon\", \"trash-2\");\n  }\n}\nfunction TicketsComponent_mat_header_row_117_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\nfunction TicketsComponent_mat_row_118_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-row\", 79);\n    i0.ɵɵlistener(\"click\", function TicketsComponent_mat_row_118_Template_mat_row_click_0_listener() {\n      const row_r19 = i0.ɵɵrestoreView(_r18).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editCall(row_r19));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵstyleProp(\"cursor\", \"pointer\");\n  }\n}\nfunction TicketsComponent_Conditional_119_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵelement(1, \"mat-progress-spinner\", 80);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"diameter\", 40);\n  }\n}\nfunction TicketsComponent_Conditional_120_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 81);\n    i0.ɵɵtext(1, \" No results \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"display\", ctx_r2.dataSource.renderedData.length === 0 ? \"\" : \"none\");\n  }\n}\nexport class TicketsComponent extends UnsubscribeOnDestroyAdapter {\n  constructor(httpClient, dialog, ticketsService, snackBar) {\n    super();\n    this.httpClient = httpClient;\n    this.dialog = dialog;\n    this.ticketsService = ticketsService;\n    this.snackBar = snackBar;\n    this.displayedColumns = ['select', 'ticket_id', 'createdBy', 'subject', 'status', 'assignTo', 'date', 'details', 'actions'];\n    this.selection = new SelectionModel(true, []);\n  }\n  ngOnInit() {\n    this.loadData();\n  }\n  refresh() {\n    this.loadData();\n  }\n  addNew() {\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n    const dialogRef = this.dialog.open(FormDialogComponent, {\n      data: {\n        ticket: this.ticket,\n        action: 'add'\n      },\n      direction: tempDirection\n    });\n    this.subs.sink = dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        // After dialog is closed we're doing frontend updates\n        // For add we're just pushing a new row inside DataService\n        this.exampleDatabase?.dataChange.value.unshift(this.ticketsService.getDialogData());\n        this.refreshTable();\n        this.showNotification('snackbar-success', 'Add Record Successfully...!!!', 'bottom', 'center');\n      }\n    });\n  }\n  editCall(row) {\n    this.id = row.id;\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n    const dialogRef = this.dialog.open(FormDialogComponent, {\n      data: {\n        ticket: row,\n        action: 'edit'\n      },\n      direction: tempDirection\n    });\n    this.subs.sink = dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        // When using an edit things are little different, firstly we find record inside DataService by id\n        const foundIndex = this.exampleDatabase?.dataChange.value.findIndex(x => x.id === this.id);\n        // Then you update that record using data from dialogData (values you enetered)\n        if (foundIndex != null && this.exampleDatabase) {\n          this.exampleDatabase.dataChange.value[foundIndex] = this.ticketsService.getDialogData();\n          // And lastly refresh table\n          this.refreshTable();\n          this.showNotification('black', 'Edit Record Successfully...!!!', 'bottom', 'center');\n        }\n      }\n    });\n  }\n  deleteItem(i, row) {\n    this.index = i;\n    this.id = row.id;\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n    const dialogRef = this.dialog.open(DeleteDialogComponent, {\n      height: '270px',\n      width: '400px',\n      data: row,\n      direction: tempDirection\n    });\n    this.subs.sink = dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        const foundIndex = this.exampleDatabase?.dataChange.value.findIndex(x => x.id === this.id);\n        // for delete we use splice in order to remove single object from DataService\n        if (foundIndex != null && this.exampleDatabase) {\n          this.exampleDatabase.dataChange.value.splice(foundIndex, 1);\n          this.refreshTable();\n          this.showNotification('snackbar-danger', 'Delete Record Successfully...!!!', 'bottom', 'center');\n        }\n      }\n    });\n  }\n  refreshTable() {\n    this.paginator._changePageSize(this.paginator.pageSize);\n  }\n  /** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.dataSource?.renderedData.length;\n    return numSelected === numRows;\n  }\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    this.isAllSelected() ? this.selection.clear() : this.dataSource?.renderedData.forEach(row => this.selection.select(row));\n  }\n  removeSelectedRows() {\n    const totalSelect = this.selection.selected.length;\n    this.selection.selected.forEach(item => {\n      const index = this.dataSource?.renderedData.findIndex(d => d === item);\n      // console.log(this.dataSource.renderedData.findIndex((d) => d === item));\n      this.exampleDatabase?.dataChange.value.splice(index, 1);\n      this.refreshTable();\n      this.selection = new SelectionModel(true, []);\n    });\n    this.showNotification('snackbar-danger', totalSelect + ' Record Delete Successfully...!!!', 'bottom', 'center');\n  }\n  loadData() {\n    this.exampleDatabase = new TicketsService(this.httpClient);\n    this.dataSource = new ExampleDataSource(this.exampleDatabase, this.paginator, this.sort);\n    this.subs.sink = fromEvent(this.filter.nativeElement, 'keyup').subscribe(() => {\n      if (!this.dataSource) {\n        return;\n      }\n      this.dataSource.filter = this.filter.nativeElement.value;\n    });\n  }\n  // export table data in excel file\n  exportExcel() {\n    // key name with space add in brackets\n    const exportData = this.dataSource.filteredData.map(x => ({\n      'Ticket ID': x.ticket_id,\n      'Created By': x.createdBy,\n      Subject: x.subject,\n      Status: x.status,\n      'Assign To': x.assignTo,\n      Date: formatDate(new Date(x.date), 'yyyy-MM-dd', 'en') || '',\n      Details: x.details\n    }));\n    TableExportUtil.exportToExcel(exportData, 'excel');\n  }\n  showNotification(colorName, text, placementFrom, placementAlign) {\n    this.snackBar.open(text, '', {\n      duration: 2000,\n      verticalPosition: placementFrom,\n      horizontalPosition: placementAlign,\n      panelClass: colorName\n    });\n  }\n  static #_ = this.ɵfac = function TicketsComponent_Factory(t) {\n    return new (t || TicketsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.TicketsService), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TicketsComponent,\n    selectors: [[\"app-tickets\"]],\n    viewQuery: function TicketsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 7);\n        i0.ɵɵviewQuery(MatSort, 7);\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.filter = _t.first);\n      }\n    },\n    standalone: true,\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵStandaloneFeature],\n    decls: 123,\n    vars: 15,\n    consts: [[\"filter\", \"\"], [\"paginator\", \"\"], [1, \"content\"], [1, \"content-block\"], [1, \"block-header\"], [3, \"title\", \"items\", \"active_item\"], [1, \"row\"], [1, \"col-lg-3\", \"col-sm-6\"], [1, \"info-box7\", \"bg-c-blue\", \"order-info-box7\"], [1, \"info-box7-block\"], [1, \"m-b-20\"], [1, \"text-end\"], [1, \"fas\", \"fa-ticket-alt\", \"float-start\"], [1, \"m-b-0\"], [1, \"info-box7\", \"bg-c-green\", \"order-info-box7\"], [1, \"fas\", \"fa-reply\", \"float-start\"], [1, \"info-box7\", \"bg-c-yellow\", \"order-info-box7\"], [1, \"fas\", \"fa-clipboard-check\", \"float-start\"], [1, \"info-box7\", \"bg-c-pink\", \"order-info-box7\"], [1, \"fas\", \"fa-clipboard-list\", \"float-start\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\"], [1, \"card\"], [1, \"materialTableHeader\"], [1, \"left\"], [1, \"header-buttons-left\", \"ms-0\"], [1, \"tbl-title\"], [1, \"tbl-search-box\"], [\"for\", \"search-input\"], [1, \"material-icons\", \"search-icon\"], [\"placeholder\", \"Search\", \"type\", \"text\", \"aria-label\", \"Search box\", 1, \"browser-default\", \"search-field\"], [1, \"right\"], [1, \"tbl-export-btn\"], [1, \"tbl-header-btn\"], [\"matTooltip\", \"ADD\", 1, \"m-l-10\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"col-white\"], [\"matTooltip\", \"REFRESH\", 1, \"m-l-10\"], [\"matTooltip\", \"DELETE\", 1, \"m-l-10\", 3, \"hidden\"], [\"mat-mini-fab\", \"\", \"color\", \"warn\", 3, \"click\"], [\"matTooltip\", \"XLSX\", 1, \"export-button\", \"m-l-10\"], [\"src\", \"assets/images/icons/xlsx.png\", \"alt\", \"\", 3, \"click\"], [1, \"body\", \"overflow-auto\"], [1, \"responsive_table\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-cell\", \"advance-table\", 3, \"dataSource\"], [\"matColumnDef\", \"select\"], [3, \"ngClass\", 4, \"matHeaderCellDef\"], [3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"id\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"ticket_id\"], [\"matColumnDef\", \"createdBy\"], [\"matColumnDef\", \"subject\"], [\"matColumnDef\", \"status\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"assignTo\"], [\"matColumnDef\", \"date\"], [\"matColumnDef\", \"details\"], [\"matColumnDef\", \"actions\"], [\"class\", \"pr-0\", 4, \"matHeaderCellDef\"], [\"class\", \"pr-0\", 4, \"matCellDef\"], [4, \"matHeaderRowDef\"], [\"matRipple\", \"\", 3, \"cursor\", \"click\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"tbl-spinner\"], [1, \"no-results\", 3, \"display\"], [3, \"length\", \"pageIndex\", \"pageSize\", \"pageSizeOptions\"], [3, \"ngClass\"], [3, \"change\", \"checked\", \"indeterminate\", \"ngClass\"], [3, \"click\", \"change\", \"checked\", \"ngClass\"], [\"mat-sort-header\", \"\"], [1, \"mobile-label\"], [\"mat-cell\", \"\"], [1, \"badge\", \"badge-solid-green\"], [1, \"badge\", \"badge-solid-orange\"], [1, \"truncate-text\"], [1, \"pr-0\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", \"matTooltip\", \"Edit\", 1, \"tbl-action-btn\", 3, \"click\"], [3, \"icon\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", \"matTooltip\", \"Delete\", 1, \"tbl-action-btn\", 3, \"click\"], [\"matRipple\", \"\", 3, \"click\"], [\"color\", \"primary\", \"mode\", \"indeterminate\", 3, \"diameter\"], [1, \"no-results\"]],\n    template: function TicketsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"section\", 2)(1, \"div\", 3)(2, \"div\", 4);\n        i0.ɵɵelement(3, \"app-breadcrumb\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 6)(5, \"div\", 7)(6, \"div\", 8)(7, \"div\", 9)(8, \"h6\", 10);\n        i0.ɵɵtext(9, \"Total Tickets\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"h4\", 11);\n        i0.ɵɵelement(11, \"i\", 12);\n        i0.ɵɵelementStart(12, \"span\");\n        i0.ɵɵtext(13, \"1,276\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"p\", 13);\n        i0.ɵɵtext(15, \"18% Higher Then Last Month\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(16, \"div\", 7)(17, \"div\", 14)(18, \"div\", 9)(19, \"h6\", 10);\n        i0.ɵɵtext(20, \"Reply\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"h4\", 11);\n        i0.ɵɵelement(22, \"i\", 15);\n        i0.ɵɵelementStart(23, \"span\");\n        i0.ɵɵtext(24, \"865\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"p\", 13);\n        i0.ɵɵtext(26, \"21% Higher Then Last Month\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(27, \"div\", 7)(28, \"div\", 16)(29, \"div\", 9)(30, \"h6\", 10);\n        i0.ɵɵtext(31, \"Resolve\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"h4\", 11);\n        i0.ɵɵelement(33, \"i\", 17);\n        i0.ɵɵelementStart(34, \"span\");\n        i0.ɵɵtext(35, \"457\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(36, \"p\", 13);\n        i0.ɵɵtext(37, \"37% Higher Then Last Month\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(38, \"div\", 7)(39, \"div\", 18)(40, \"div\", 9)(41, \"h6\", 10);\n        i0.ɵɵtext(42, \"Pending\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"h4\", 11);\n        i0.ɵɵelement(44, \"i\", 19);\n        i0.ɵɵelementStart(45, \"span\");\n        i0.ɵɵtext(46, \"239\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"p\", 13);\n        i0.ɵɵtext(48, \"10% Higher Then Last Month\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(49, \"div\", 6)(50, \"div\", 20)(51, \"div\", 21)(52, \"div\", 22)(53, \"div\", 23)(54, \"ul\", 24)(55, \"li\", 25)(56, \"h4\");\n        i0.ɵɵtext(57, \"Tickets\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"li\", 26)(59, \"label\", 27)(60, \"i\", 28);\n        i0.ɵɵtext(61, \"search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(62, \"input\", 29, 0);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(64, \"div\", 30)(65, \"ul\", 31)(66, \"li\", 32)(67, \"div\", 33)(68, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_68_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.addNew());\n        });\n        i0.ɵɵelementStart(69, \"mat-icon\", 35);\n        i0.ɵɵtext(70, \"add\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(71, \"li\", 32)(72, \"div\", 36)(73, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_73_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.refresh());\n        });\n        i0.ɵɵelementStart(74, \"mat-icon\", 35);\n        i0.ɵɵtext(75, \"refresh\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(76, \"li\", 32)(77, \"div\", 37)(78, \"button\", 38);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_78_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.removeSelectedRows());\n        });\n        i0.ɵɵelementStart(79, \"mat-icon\", 35);\n        i0.ɵɵtext(80, \"delete \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(81, \"li\")(82, \"div\", 39)(83, \"img\", 40);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_img_click_83_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.exportExcel());\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(84, \"div\", 41)(85, \"div\", 42)(86, \"table\", 43);\n        i0.ɵɵelementContainerStart(87, 44);\n        i0.ɵɵtemplate(88, TicketsComponent_mat_header_cell_88_Template, 2, 4, \"mat-header-cell\", 45)(89, TicketsComponent_mat_cell_89_Template, 2, 3, \"mat-cell\", 46);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(90, 47);\n        i0.ɵɵtemplate(91, TicketsComponent_mat_header_cell_91_Template, 2, 0, \"mat-header-cell\", 48)(92, TicketsComponent_mat_cell_92_Template, 2, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(93, 50);\n        i0.ɵɵtemplate(94, TicketsComponent_mat_header_cell_94_Template, 2, 0, \"mat-header-cell\", 48)(95, TicketsComponent_mat_cell_95_Template, 4, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(96, 51);\n        i0.ɵɵtemplate(97, TicketsComponent_mat_header_cell_97_Template, 2, 0, \"mat-header-cell\", 48)(98, TicketsComponent_mat_cell_98_Template, 4, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(99, 52);\n        i0.ɵɵtemplate(100, TicketsComponent_mat_header_cell_100_Template, 2, 0, \"mat-header-cell\", 48)(101, TicketsComponent_mat_cell_101_Template, 4, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(102, 53);\n        i0.ɵɵtemplate(103, TicketsComponent_mat_header_cell_103_Template, 2, 0, \"mat-header-cell\", 48)(104, TicketsComponent_mat_cell_104_Template, 5, 2, \"mat-cell\", 54);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(105, 55);\n        i0.ɵɵtemplate(106, TicketsComponent_mat_header_cell_106_Template, 2, 0, \"mat-header-cell\", 48)(107, TicketsComponent_mat_cell_107_Template, 4, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(108, 56);\n        i0.ɵɵtemplate(109, TicketsComponent_mat_header_cell_109_Template, 2, 0, \"mat-header-cell\", 48)(110, TicketsComponent_mat_cell_110_Template, 5, 4, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(111, 57);\n        i0.ɵɵtemplate(112, TicketsComponent_mat_header_cell_112_Template, 2, 0, \"mat-header-cell\", 48)(113, TicketsComponent_mat_cell_113_Template, 5, 1, \"mat-cell\", 49);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(114, 58);\n        i0.ɵɵtemplate(115, TicketsComponent_mat_header_cell_115_Template, 2, 0, \"mat-header-cell\", 59)(116, TicketsComponent_mat_cell_116_Template, 5, 6, \"mat-cell\", 60);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(117, TicketsComponent_mat_header_row_117_Template, 1, 0, \"mat-header-row\", 61)(118, TicketsComponent_mat_row_118_Template, 1, 2, \"mat-row\", 62);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(119, TicketsComponent_Conditional_119_Template, 2, 1, \"div\", 63)(120, TicketsComponent_Conditional_120_Template, 2, 2, \"div\", 64);\n        i0.ɵɵelement(121, \"mat-paginator\", 65, 1);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"title\", \"Tickets\")(\"items\", i0.ɵɵpureFunction0(13, _c1))(\"active_item\", \"Tickets\");\n        i0.ɵɵadvance(74);\n        i0.ɵɵproperty(\"hidden\", !ctx.selection.hasValue());\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(31);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance();\n        i0.ɵɵconditional((ctx.exampleDatabase == null ? null : ctx.exampleDatabase.isTblLoading) ? 119 : -1);\n        i0.ɵɵadvance();\n        i0.ɵɵconditional(!(ctx.exampleDatabase == null ? null : ctx.exampleDatabase.isTblLoading) ? 120 : -1);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"length\", ctx.dataSource.filteredData.length)(\"pageIndex\", 0)(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(14, _c2));\n      }\n    },\n    dependencies: [BreadcrumbComponent, MatTooltipModule, i5.MatTooltip, MatButtonModule, i6.MatIconButton, i6.MatMiniFabButton, MatIconModule, i7.MatIcon, MatTableModule, i8.MatTable, i8.MatHeaderCellDef, i8.MatHeaderRowDef, i8.MatColumnDef, i8.MatCellDef, i8.MatRowDef, i8.MatHeaderCell, i8.MatCell, i8.MatHeaderRow, i8.MatRow, MatSortModule, i9.MatSort, i9.MatSortHeader, NgClass, MatCheckboxModule, i10.MatCheckbox, FeatherIconsComponent, MatRippleModule, i11.MatRipple, MatProgressSpinnerModule, i12.MatProgressSpinner, MatPaginatorModule, i13.MatPaginator, DatePipe]\n  });\n}\nexport class ExampleDataSource extends DataSource {\n  get filter() {\n    return this.filterChange.value;\n  }\n  set filter(filter) {\n    this.filterChange.next(filter);\n  }\n  constructor(exampleDatabase, paginator, _sort) {\n    super();\n    this.exampleDatabase = exampleDatabase;\n    this.paginator = paginator;\n    this._sort = _sort;\n    this.filterChange = new BehaviorSubject('');\n    this.filteredData = [];\n    this.renderedData = [];\n    // Reset to the first page when the user changes the filter.\n    this.filterChange.subscribe(() => this.paginator.pageIndex = 0);\n  }\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\n  connect() {\n    // Listen for any changes in the base data, sorting, filtering, or pagination\n    const displayDataChanges = [this.exampleDatabase.dataChange, this._sort.sortChange, this.filterChange, this.paginator.page];\n    this.exampleDatabase.getTicketss();\n    return merge(...displayDataChanges).pipe(map(() => {\n      // Filter data\n      this.filteredData = this.exampleDatabase.data.slice().filter(ticket => {\n        const searchStr = (ticket.ticket_id + ticket.createdBy + ticket.subject + ticket.status + ticket.assignTo + ticket.date + ticket.details).toLowerCase();\n        return searchStr.indexOf(this.filter.toLowerCase()) !== -1;\n      });\n      // Sort filtered data\n      const sortedData = this.sortData(this.filteredData.slice());\n      // Grab the page's slice of the filtered sorted data.\n      const startIndex = this.paginator.pageIndex * this.paginator.pageSize;\n      this.renderedData = sortedData.splice(startIndex, this.paginator.pageSize);\n      return this.renderedData;\n    }));\n  }\n  disconnect() {\n    //disconnect\n  }\n  /** Returns a sorted copy of the database data. */\n  sortData(data) {\n    if (!this._sort.active || this._sort.direction === '') {\n      return data;\n    }\n    return data.sort((a, b) => {\n      let propertyA = '';\n      let propertyB = '';\n      switch (this._sort.active) {\n        case 'id':\n          [propertyA, propertyB] = [a.id, b.id];\n          break;\n        case 'ticket_id':\n          [propertyA, propertyB] = [a.ticket_id, b.ticket_id];\n          break;\n        case 'createdBy':\n          [propertyA, propertyB] = [a.createdBy, b.createdBy];\n          break;\n        case 'subject':\n          [propertyA, propertyB] = [a.subject, b.subject];\n          break;\n        case 'status':\n          [propertyA, propertyB] = [a.status, b.status];\n          break;\n        case 'assignTo':\n          [propertyA, propertyB] = [a.assignTo, b.assignTo];\n          break;\n        case 'date':\n          [propertyA, propertyB] = [a.date, b.date];\n          break;\n      }\n      const valueA = isNaN(+propertyA) ? propertyA : +propertyA;\n      const valueB = isNaN(+propertyB) ? propertyB : +propertyB;\n      return (valueA < valueB ? -1 : 1) * (this._sort.direction === 'asc' ? 1 : -1);\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}