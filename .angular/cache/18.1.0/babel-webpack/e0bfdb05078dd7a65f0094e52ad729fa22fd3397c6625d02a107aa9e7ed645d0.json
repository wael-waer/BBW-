{"ast":null,"code":"import { CdkDropList, CdkDrag } from '@angular/cdk/drag-drop';\nimport { ProjectStatus } from '../core/project.model';\nimport { ProjectDialogComponent } from '../project-dialog/project-dialog.component';\nimport { TruncatePipe, PluralPipe } from '../core/pipes';\nimport { DatePipe, KeyValuePipe } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/project.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/material/progress-bar\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/menu\";\nimport * as i7 from \"@angular/material/icon\";\nconst _c0 = () => [\"NEWPROJECTS\", \"RUNNING\", \"ONHOLD\", \"FINISHED\"];\nconst _c1 = () => [280, \"\\u2026\"];\nfunction BoardComponent_For_2_Case_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" New Projects \");\n  }\n}\nfunction BoardComponent_For_2_Case_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Running \");\n  }\n}\nfunction BoardComponent_For_2_Case_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" On Hold \");\n  }\n}\nfunction BoardComponent_For_2_Case_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Finished \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Website \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Android \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" IPhone \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Testing \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1, \" keyboard_double_arrow_up \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"High \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1, \" switch_right \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"Medium \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1, \" keyboard_double_arrow_down \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"Low \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Conditional_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" date_range \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const project_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 1, project_r4.deadline), \" \");\n  }\n}\nfunction BoardComponent_For_2_For_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 8);\n    i0.ɵɵlistener(\"dblclick\", function BoardComponent_For_2_For_13_Template_li_dblclick_0_listener() {\n      const project_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editProjectDialog(project_r4));\n    });\n    i0.ɵɵelementStart(1, \"h4\", 9)(2, \"span\", 10);\n    i0.ɵɵtext(3, \" task_alt \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"small\", 11)(6, \"span\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 13);\n    i0.ɵɵtext(9, \" open tasks \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\")(11, \"div\", 14);\n    i0.ɵɵtemplate(12, BoardComponent_For_2_For_13_Conditional_12_Template, 1, 0)(13, BoardComponent_For_2_For_13_Conditional_13_Template, 1, 0)(14, BoardComponent_For_2_For_13_Conditional_14_Template, 1, 0)(15, BoardComponent_For_2_For_13_Conditional_15_Template, 1, 0);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"p\", 15);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"truncate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 16)(20, \"ul\", 17)(21, \"li\", 18)(22, \"div\", 19)(23, \"div\", 20);\n    i0.ɵɵtext(24, \"Created:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 21)(26, \"span\", 22);\n    i0.ɵɵtext(27, \" date_range \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 20);\n    i0.ɵɵtext(31, \"Team Leader:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 21);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 20);\n    i0.ɵɵtext(35, \"Priority:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\");\n    i0.ɵɵtemplate(37, BoardComponent_For_2_For_13_Conditional_37_Template, 3, 0)(38, BoardComponent_For_2_For_13_Conditional_38_Template, 3, 0)(39, BoardComponent_For_2_For_13_Conditional_39_Template, 3, 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 20);\n    i0.ɵɵtext(41, \"Deadline:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 21);\n    i0.ɵɵtemplate(43, BoardComponent_For_2_For_13_Conditional_43_Template, 5, 3, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 20);\n    i0.ɵɵtext(45, \"Comments:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 21);\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"div\", 20);\n    i0.ɵɵtext(49, \"Bug:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"div\", 21);\n    i0.ɵɵtext(51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 20);\n    i0.ɵɵtext(53, \"Team:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"div\", 24)(55, \"ul\", 25)(56, \"li\", 26);\n    i0.ɵɵelement(57, \"img\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"li\", 26);\n    i0.ɵɵelement(59, \"img\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"li\", 26);\n    i0.ɵɵelement(61, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"li\", 26)(63, \"span\", 30);\n    i0.ɵɵtext(64, \"+4\");\n    i0.ɵɵelementEnd()()()()()()()();\n    i0.ɵɵelementStart(65, \"p\", 31);\n    i0.ɵɵtext(66, \"Progress \");\n    i0.ɵɵelementStart(67, \"span\", 32);\n    i0.ɵɵtext(68);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(69, \"div\", 33);\n    i0.ɵɵelement(70, \"mat-progress-bar\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"button\", 35);\n    i0.ɵɵlistener(\"dblclick\", function BoardComponent_For_2_For_13_Template_button_dblclick_71_listener() {\n      i0.ɵɵrestoreView(_r3);\n      return i0.ɵɵresetView(null);\n    });\n    i0.ɵɵelementStart(72, \"mat-icon\");\n    i0.ɵɵtext(73, \"more_vert\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(74, \"mat-menu\", 36, 0)(76, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function BoardComponent_For_2_For_13_Template_button_click_76_listener() {\n      const project_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editProjectDialog(project_r4));\n    });\n    i0.ɵɵelementStart(77, \"mat-icon\");\n    i0.ɵɵtext(78, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"span\");\n    i0.ɵɵtext(80, \"Edit Project\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(81, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function BoardComponent_For_2_For_13_Template_button_click_81_listener() {\n      const project_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.removeProject(project_r4));\n    });\n    i0.ɵɵelementStart(82, \"mat-icon\");\n    i0.ɵɵtext(83, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(84, \"span\");\n    i0.ɵɵtext(85, \"Delete Project\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const project_r4 = ctx.$implicit;\n    const menu_r5 = i0.ɵɵreference(75);\n    i0.ɵɵproperty(\"cdkDragData\", project_r4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(project_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(project_r4.open_task);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"project-bedge project-type-\", project_r4.type, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(project_r4.type === \"Website\" ? 12 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.type === \"Android\" ? 13 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.type === \"IPhone\" ? 14 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.type === \"Testing\" ? 15 : -1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(18, 25, project_r4.description, i0.ɵɵpureFunction0(30, _c1)), \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 28, project_r4.created));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(project_r4.team_leader);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"col-7 pro-lef mb-2 project-priority-\", project_r4.priority, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.priority === 1 ? 37 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.priority === 0 ? 38 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(project_r4.priority === -1 ? 39 : -1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵconditional(project_r4.deadline ? 43 : -1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(project_r4.comments);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(project_r4.bugs);\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate1(\"\", project_r4.progress, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", project_r4.progress);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matMenuTriggerFor\", menu_r5);\n  }\n}\nfunction BoardComponent_For_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"h2\");\n    i0.ɵɵtemplate(4, BoardComponent_For_2_Case_4_Template, 1, 0)(5, BoardComponent_For_2_Case_5_Template, 1, 0)(6, BoardComponent_For_2_Case_6_Template, 1, 0)(7, BoardComponent_For_2_Case_7_Template, 1, 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 5);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"pluralize\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"ul\", 6);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function BoardComponent_For_2_Template_ul_cdkDropListDropped_11_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.drop($event));\n    });\n    i0.ɵɵrepeaterCreate(12, BoardComponent_For_2_For_13_Template, 86, 31, \"li\", 7, i0.ɵɵrepeaterTrackByIdentity);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_10_0;\n    const list_r6 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵconditional((tmp_10_0 = list_r6.key) === \"NEWPROJECTS\" ? 4 : tmp_10_0 === \"RUNNING\" ? 5 : tmp_10_0 === \"ONHOLD\" ? 6 : tmp_10_0 === \"FINISHED\" ? 7 : -1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", list_r6.value.length, \" \", i0.ɵɵpipeBind4(10, 6, list_r6.value.length, \"project\", \"projects\", \"projects\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"id\", list_r6.key);\n    i0.ɵɵproperty(\"cdkDropListData\", list_r6.value)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction0(11, _c0));\n    i0.ɵɵadvance();\n    i0.ɵɵrepeater(list_r6.value);\n  }\n}\nexport class BoardComponent {\n  constructor(projectService, dialog, snackBar) {\n    this.projectService = projectService;\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.unsorted = () => {\n      return 0;\n    };\n    this.lists = {};\n  }\n  ngOnInit() {\n    this.projectService.getObjects().subscribe(projects => {\n      // split project to status categories\n      this.lists = {\n        NEWPROJECTS: projects.filter(project => project.status === ProjectStatus.NEWPROJECTS),\n        RUNNING: projects.filter(project => project.status === ProjectStatus.RUNNING),\n        ONHOLD: projects.filter(project => project.status === ProjectStatus.ONHOLD),\n        FINISHED: projects.filter(project => project.status === ProjectStatus.FINISHED)\n      };\n    });\n  }\n  drop(event) {\n    if (event.previousContainer !== event.container) {\n      const project = event.item.data;\n      // project.status = ProjectStatus[event.container.id];\n      project.status = ProjectStatus[JSON.parse(JSON.stringify(event.container.id))];\n      this.projectService.updateObject(project);\n    }\n  }\n  addProject(name, status) {\n    if (!/\\S/.test(name)) {\n      // do not add project if name is empty or contain white spaces only\n      return;\n    }\n    this.projectService.createOject({\n      name,\n      status: ProjectStatus[status]\n    });\n  }\n  removeProject(project) {\n    // show \"deleted\" info\n    // const snack = this.snackBar.open(\"The Project has been deleted\", \"Undo\");\n    const snack = this.snackBar.open('Project deleted Successfully...!!!', 'Undo', {\n      duration: 4000,\n      verticalPosition: 'bottom',\n      horizontalPosition: 'center',\n      panelClass: 'snackbar-danger'\n    });\n    // put project to the trash\n    this.projectService.detachObject(project);\n    // when snack has been removed (dismissed)\n    snack.afterDismissed().subscribe(info => {\n      if (info.dismissedByAction !== true) {\n        // if dismissed not by undo click (so it dissappeared)\n        // then get project by id and delete it\n        this.projectService.deleteObject(project);\n      }\n    });\n    // snack action has been taken\n    snack.onAction().subscribe(() => {\n      // undo button clicked, so remove project from the trash\n      this.projectService.attachObject(project);\n    });\n  }\n  newProjectDialog() {\n    this.dialogOpen('Create new project', null);\n  }\n  editProjectDialog(project) {\n    this.dialogOpen('Edit project', project);\n  }\n  dialogOpen(title, project) {\n    let tempDirection;\n    if (localStorage.getItem('isRtl') === 'true') {\n      tempDirection = 'rtl';\n    } else {\n      tempDirection = 'ltr';\n    }\n    // open angular material dialog\n    this.dialog.open(ProjectDialogComponent, {\n      height: '85%',\n      width: '55%',\n      autoFocus: true,\n      data: {\n        title,\n        project\n      },\n      direction: tempDirection\n    });\n  }\n  static #_ = this.ɵfac = function BoardComponent_Factory(t) {\n    return new (t || BoardComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BoardComponent,\n    selectors: [[\"app-board\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 4,\n    vars: 3,\n    consts: [[\"menu\", \"matMenu\"], [1, \"board\"], [1, \"list\"], [1, \"header\"], [1, \"title\"], [1, \"count\"], [\"cdkDropList\", \"\", \"cdkDropListSortingDisabled\", \"\", 1, \"projects\", 3, \"cdkDropListDropped\", \"id\", \"cdkDropListData\", \"cdkDropListConnectedTo\"], [\"cdkDrag\", \"\", 1, \"project\", 3, \"cdkDragData\"], [\"cdkDrag\", \"\", 1, \"project\", 3, \"dblclick\", \"cdkDragData\"], [1, \"project-title\"], [1, \"material-icons-outlined\", \"project-icon\"], [1, \"block\", \"text-ellipsis\", \"m-b-15\"], [1, \"text-xs\"], [1, \"text-muted\"], [1, \"pro-left\"], [1, \"mt-3\"], [1, \"project-members\", \"m-b-15\"], [1, \"team-members\"], [1, \"dropdown\", \"avatar-dropdown\"], [1, \"row\"], [1, \"col-5\", \"pro-left\", \"mb-2\"], [1, \"col-7\", \"pro-left\", \"mb-2\"], [1, \"material-icons-outlined\", \"project-icon2\"], [1, \"deadline\"], [1, \"col-7\", \"pro-left\"], [1, \"list-unstyled\", \"order-list\"], [1, \"avatar\", \"avatar-sm\"], [\"src\", \"assets/images/user/user1.jpg\", \"alt\", \"user\", 1, \"rounded-circle\"], [\"src\", \"assets/images/user/user2.jpg\", \"alt\", \"user\", 1, \"rounded-circle\"], [\"src\", \"assets/images/user/user3.jpg\", \"alt\", \"user\", 1, \"rounded-circle\"], [1, \"badge\"], [1, \"m-b-5\"], [1, \"text-success\", \"float-end\"], [1, \"progress\", \"progress-xs\", \"mb-0\"], [\"mode\", \"determinate\", 3, \"value\"], [\"mat-icon-button\", \"\", 1, \"project-actions\", 3, \"dblclick\", \"matMenuTriggerFor\"], [1, \"project-actions-menu\"], [\"mat-menu-item\", \"\", 3, \"click\"]],\n    template: function BoardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 1);\n        i0.ɵɵrepeaterCreate(1, BoardComponent_For_2_Template, 14, 12, \"div\", 2, i0.ɵɵrepeaterTrackByIdentity);\n        i0.ɵɵpipe(3, \"keyvalue\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵrepeater(i0.ɵɵpipeBind2(3, 0, ctx.lists, ctx.unsorted));\n      }\n    },\n    dependencies: [CdkDropList, CdkDrag, MatProgressBarModule, i4.MatProgressBar, MatButtonModule, i5.MatIconButton, MatMenuModule, i6.MatMenu, i6.MatMenuItem, i6.MatMenuTrigger, MatIconModule, i7.MatIcon, DatePipe, KeyValuePipe, TruncatePipe, PluralPipe]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}