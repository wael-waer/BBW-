<div class="addContainer">
  <div class="modalHeader">
    <div class="editRowModal">
      <div class="modalHeader clearfix">
        <div class="modal-about">
          {{dialogTitle}}
        </div>
      </div>
    </div>
    <button mat-icon-button (click)="dialogRef.close()" class="modal-close-button" aria-label="Close dialog">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div mat-dialog-content>
    <form class="register-form m-4" [formGroup]="jobsListForm" (ngSubmit)="confirmAdd()">
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Job Title</mat-label>
            <input matInput formControlName="title" required>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>description</mat-icon>
            <mat-error *ngIf="jobsListForm.get('title')?.hasError('required')">Job Title is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" required></textarea>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>description</mat-icon>
            <mat-error *ngIf="jobsListForm.get('description')?.hasError('required')">Description is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Location</mat-label>
            <input matInput formControlName="location" required>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>location_on</mat-icon>
            <mat-error *ngIf="jobsListForm.get('location')?.hasError('required')">Location is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Contract Type</mat-label>
            <input matInput formControlName="contractType" required>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>assignment</mat-icon>
            <mat-error *ngIf="jobsListForm.get('contractType')?.hasError('required')">Contract Type is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Salary</mat-label>
            <input matInput formControlName="salary" type="number" required>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>attach_money</mat-icon>
            <mat-error *ngIf="jobsListForm.get('salary')?.hasError('required')">Salary is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Application Deadline</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="applicationDeadline" required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="jobsListForm.get('applicationDeadline')?.hasError('required')">Application Deadline is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Status</mat-label>
            <mat-select formControlName="status" required>
              <mat-option [value]="'Open'">Open</mat-option>
              <mat-option [value]="'Closed'">Closed</mat-option>
              <mat-option [value]="'Cancelled'">Cancelled</mat-option>
            </mat-select>
            <mat-error *ngIf="jobsListForm.get('status')?.hasError('required')">Status is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Publication Date</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="publicationDate" required>
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
            <mat-error *ngIf="jobsListForm.get('publicationDate')?.hasError('required')">Publication Date is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <!-- <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Required Skill</mat-label>
            <mat-select formControlName="requiredSkills" multiple>
              <mat-option *ngFor="let skill of predefinedSkills"  [value]="skill"><mat-chip>{{ skill }}</mat-chip></mat-option>
            </mat-select>
            <mat-error *ngIf="jobsListForm.get('requiredSkills')?.hasError('required')">At least one skill is required</mat-error>
           
          </mat-form-field> -->
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Required Skills</mat-label>
            <mat-select formControlName="requiredSkills" multiple>
              <mat-option *ngFor="let skill of predefinedSkills" [value]="skill">
                <mat-chip>{{ skill.name }}</mat-chip>
                <button mat-icon-button >
        <mat-icon>clear</mat-icon>
      </button>
              </mat-option>
            </mat-select>
            <mat-error  *ngIf="jobsListForm.get('requiredSkills')?.hasError('required')">At least one skill is required</mat-error>
          </mat-form-field>
          
          <!-- <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Required Skills</mat-label>
            <mat-select formControlName="requiredSkills" multiple>
              <mat-select-trigger>
                <mat-chip-list>
                  <mat-chip *ngFor="let skill of predefinedSkills" [value]="skill" [removable]="true" (removed)="removeSkill(skill)">
                    {{ skill }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                  </mat-chip>
                </mat-chip-list>
              </mat-select-trigger>
              <mat-option *ngFor="let skill of predefinedSkills" [value]="skill">{{ skill }}</mat-option>
            </mat-select>
            <mat-error   *ngIf="jobsListForm.get('requiredSkills')?.hasError('required')">At least one skill is required</mat-error>
          </mat-form-field> -->
          
          
          <!-- <div class="tag-container">
            <span *ngFor="let skill of enteredSkills" class="tag">{{ skill }}
              <span class="remove-icon" (click)="removeSkill(skill)">x</span>
            </span>
          </div>
          
          <input matInput class="skills-input" placeholder="Enter skill..." (input)="onSkillInput($event)"> -->

          
      
          
        </div>
        
        
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Recruiting Manager</mat-label>
            <input matInput formControlName="recruitingManager" required>
            <mat-icon class="material-icons-outlined color-icon p-3" matSuffix>person</mat-icon>
            <mat-error *ngIf="jobsListForm.get('recruitingManager')?.hasError('required')">Recruiting Manager is required</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
          <div class="example-button-row" align="end">
            <button mat-raised-button color="primary" [disabled]="!jobsListForm.valid" type="submit">Save</button>
            <!-- Ajoutez ici le bouton Cancel si nÃ©cessaire -->
          </div>
        </div>
      </div>
    </form>
    
    
  </div>
</div>